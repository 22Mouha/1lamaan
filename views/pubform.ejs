<!DOCTYPE html>
<html class="wide wow-animation" lang="fr">
  <head>
    <title>LAMAAN-IMMO</title>
    <!-- Stylesheets-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Poppins:400,500,600%7CTeko:300,400,500%7CMaven+Pro:500">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/styles.css">
    <style>.ie-panel{display: none;background: #212121;padding: 10px 0;box-shadow: 3px 3px 5px 0 rgba(0,0,0,.3);clear: both;text-align:center;position: relative;z-index: 1;} html.ie-10 .ie-panel, html.lt-ie-10 .ie-panel {display: block;}</style>
  </head>
  <body>
    <div class="ie-panel"><img src="images/ie8-panel/warning_bar_0000_us.jpg" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today."></div>
    <div class="preloader">
      <div class="preloader-body">
        <div class="cssload-container"><span></span><span></span><span></span><span></span>
        </div>
      </div>
    </div>

    <div class="page">
      <div class="container mt-5">
        <h2>Formulaire de Publication</h2>
        <div class="row">
          <div class="col-sm-8">
            <div class="card">
              <div class="card-body">
                <!-- Makes POST request to /login route -->
                <form action="/pubform" method="POST" enctype="multipart/form-data">
                  <div class="form-group">
                    <label for="username">Pr√©nom et Nom</label>
                    <input type="text" class="form-control" name="username">
                    </div>
                    <fieldset class="row mb-3">
                        <legend class="col-form-label col-sm-2 pt-0">Ojet :</legend>
                        <div class="col-sm-10">
                          <div class="form-check">
                            <input class="form-check-input" type="radio" name="choixObjet" id="gridRadios1" value="location">
                            <label class="form-check-label" for="gridRadios1">
                               Location
                            </label>
                           </div>
                           <div class="form-check">
                             <input class="form-check-input" type="radio" name="choixObjet" id="gridRadios1" value="vente">
                             <label class="form-check-label" for="gridRadios1">
                                Vente
                             </label>
                            </div>
                          </div>
                      </fieldset>

                      <fieldset class="row mb-3">
                        <legend class="col-form-label col-sm-2 pt-0">Type : </legend>
                        <div class="col-sm-10">
                          <div class="form-check">
                            <input class="form-check-input" type="radio" name="choixType" id="gridRadios1" value="chambre">
                            <label class="form-check-label" for="gridRadios1">
                               Chambre
                            </label>
                           </div>
                           <div class="form-check">
                             <input class="form-check-input" type="radio" name="choixType" id="gridRadios2" value="appartement">
                             <label class="form-check-label" for="gridRadios2">
                               Appartement
                             </label>
                           </div>
                           <div class="form-check">
                             <input class="form-check-input" type="radio" name="choixType" id="gridRadios3" value="maison">
                             <label class="form-check-label" for="gridRadios3">
                               Maison
                             </label>
                           </div>
                        </div>
                  </fieldset>
                  <div class="form-group">
                    <label for="surface">Surface</label>
                    <input type="text" class="form-control" name="surface">
                  </div>
                  <div class="form-group">
                    <label for="lieu">Localisation</label>
                    <input type="text" class="form-control" name="lieu">
                  </div>

                  <div class="form-group">
                    <label for="file">Choisissez une image :</label>
                    <input type="file" id="file" name="file" accept="image/*">
                  </div>
                  <button type="submit" class="btn btn-dark">Publier</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Javascript-->
    <script src="js/core.min.js"></script>
    <script src="js/script.js"></script>
    <script>
        fetch('/files')
            .then(response => response.json())
            .then(files => {
                const gallery = document.getElementById('gallery');
                files.forEach(file => {
                    const img = document.createElement('img');
                    img.src = `/image/${file.filename}`;
                    img.alt = file.filename;
                    img.style = 'width: 200px; margin: 10px;';
                    gallery.appendChild(img);
                });
            });
    </script>
</body>
</html>
